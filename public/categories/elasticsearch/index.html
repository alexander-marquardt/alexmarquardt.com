<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Elasticsearch | Alexander Marquardt</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/categories/elasticsearch/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.c165320a1f0c5bf24696dd0ab01f4316681654fa067af428b14198e94a4423c2.css" integrity="sha256-wWUyCh8MW/JGlt0KsB9DFmgWVPoGevQosUGY6UpEI8I=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/categories/elasticsearch/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/categories/elasticsearch/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Alexander Marquardt (Alt + H)">
                <img src="http://localhost:1313/alexmarquardt-light.png" alt="" aria-label="logo"
                    height="96">Alexander Marquardt</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Elasticsearch
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using Elasticsearch Painless scripting to recursively iterate through JSON fields
    </h2>
  </header>
  <div class="entry-content">
    <p>Authors Alexander Marquardt Honza Kral Introduction Painless is a simple, secure scripting language designed specifically for use with Elasticsearch. It is the default scripting language for Elasticsearch and can safely be used for inline and stored scripts. In one of its many use cases, Painless can modify documents as they are ingested into your Elasticsearch cluster. In this use case, you may find that you would like to use Painless to evaluate every field in each document that is received by Elasticsearch. However, because of the hierarchical nature of JSON documents, how to iterate over all of the fields may be non-obvious.
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-11-06 00:00:00 +0000 UTC'>November 6, 2020</span></footer>
  <a class="entry-link" aria-label="post link to Using Elasticsearch Painless scripting to recursively iterate through JSON fields" href="http://localhost:1313/elastic/using-elasticsearch-painless-scripting-to-iterate-through-fields/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Understanding and fixing &#34;too many script compilations&#34; errors in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>Introduction When using Elasticsearch, in some rare instances you may see an error such as “Too many dynamic script compilations within X minutes”. Such an error may be caused by a poor script design where parameters are hard-coded. In other cases this may be due to the script cache being too small or the compilation limit being too low. In this article, I will show how to determine if these default limits are too low, and how these limits can be modified.
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-10-21 00:00:00 +0000 UTC'>October 21, 2020</span></footer>
  <a class="entry-link" aria-label="post link to Understanding and fixing &#34;too many script compilations&#34; errors in Elasticsearch" href="http://localhost:1313/elastic/elasticsearch-too-many-script-compilations/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Converting CSV to JSON in Filebeat
    </h2>
  </header>
  <div class="entry-content">
    <p>Introduction Many organisations use excel files for creating and storing important data. For various reasons it may be useful to import such data into Elasticsearch. For example, one may need to get Master Data that is created in a spreadsheet into Elasticsearch where it could be used for enriching Elasticsearch documents. Or one may wish to use Elasticsearch and Kibana for analysing a dataset that is only available in a spreadsheet. In such cases, one option is to use Filebeat for uploading such CSV data into an Elasticsearch cluster.
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-17 00:00:00 +0000 UTC'>March 17, 2020</span></footer>
  <a class="entry-link" aria-label="post link to Converting CSV to JSON in Filebeat" href="http://localhost:1313/elastic/converting-csv-to-json-in-filebeat/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using Logstash and Elasticsearch scripted upserts to transform eCommerce purchasing data
    </h2>
  </header>
  <div class="entry-content">
    <p>Introduction Logstash is a tool that can be used to collect, process, and forward events to Elasticsearch. In order to demonstrate the power of Logstash when used in conjunction with Elasticsearch’s scripted upserts, I will show you how to create a near-real-time entity-centric index. Once data is transformed into an entity-centric index, many kinds of analysis become possible with simple (cheap) queries rather than more computationally intensive aggregations.
As a note, using the approach demonstrated here would result in documents similar to those generated by Elasticsearch transforms. Nevertheless, the technique that is documented has not been benchmarked against Elasticsearch transforms, as the main goal of this blog is to demonstrate the power and flexibility of Logstash combined with scripted upserts.
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-12-17 00:00:00 +0000 UTC'>December 17, 2019</span></footer>
  <a class="entry-link" aria-label="post link to Using Logstash and Elasticsearch scripted upserts to transform eCommerce purchasing data" href="http://localhost:1313/elastic/logstash-and-elasticsearch-painless-scripted-upserts-transform-data/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Emulating transactional functionality in Elasticsearch with two-phase commits
    </h2>
  </header>
  <div class="entry-content">
    <p>Introduction Elasticsearch supports atomic create, update, and delete operations at the individual document level, but does not have built-in support for multi-document transactions. Although Elasticsearch does not position itself as a system of record for storing data, in some cases it may be necessary to modify multiple documents as a single cohesive unit. Therefore, in this blog post we present a two-phase commit protocol which can be used to emulate multi-document transactions.
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-12-05 00:00:00 +0000 UTC'>December 5, 2019</span></footer>
  <a class="entry-link" aria-label="post link to Emulating transactional functionality in Elasticsearch with two-phase commits" href="http://localhost:1313/elastic/emulating-transactional-functionality-in-elasticsearch-with-two-phase-commits/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Converting local time to ISO 8601 time in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>This article is available at: https://www.elastic.co/blog/converting-local-time-to-iso-8601-time-in-elasticsearch
</p>
  </div>
  <footer class="entry-footer"><span title='2019-10-16 00:00:00 +0000 UTC'>October 16, 2019</span></footer>
  <a class="entry-link" aria-label="post link to Converting local time to ISO 8601 time in Elasticsearch" href="http://localhost:1313/elastic/converting-local-time-to-iso-8601-time-in-elasticsearch/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Counting unique beats agents sending data into Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>Introduction When using Beats with Elasticsearch, it may be useful to keep track of how many unique agents are sending data into an Elasticsearch cluster, and how many documents each agent is submitting. Such information for example could be useful for detecting if beats agents are behaving as expected.
In this blog post, I first discuss how to efficiently specify a filter for documents corresponding to a particular time range, followed by several methods for detecting how many beats agents are sending documents to Elasticsearch within the specified time range.
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-07-18 00:00:00 +0000 UTC'>July 18, 2019</span></footer>
  <a class="entry-link" aria-label="post link to Counting unique beats agents sending data into Elasticsearch" href="http://localhost:1313/elastic/counting-unique-beats-agents-elasticsearch/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Debugging Elasticsearch and Lucene with IntelliJ IDEA
    </h2>
  </header>
  <div class="entry-content">
    <p>This article can be found at: https://www.elastic.co/blog/how-to-debug-elasticsearch-source-code-in-intellij-idea
</p>
  </div>
  <footer class="entry-footer"><span title='2019-02-02 00:00:00 +0000 UTC'>February 2, 2019</span></footer>
  <a class="entry-link" aria-label="post link to Debugging Elasticsearch and Lucene with IntelliJ IDEA" href="http://localhost:1313/elastic/debugging-elasticsearch-and-lucene-with-intellij-idea/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">A step-by-step guide to enabling security, TLS/SSL, and PKI authentication in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>This article is available at: https://www.elastic.co/blog/elasticsearch-security-configure-tls-ssl-pki-authentication
</p>
  </div>
  <footer class="entry-footer"><span title='2018-11-05 00:00:00 +0000 UTC'>November 5, 2018</span></footer>
  <a class="entry-link" aria-label="post link to A step-by-step guide to enabling security, TLS/SSL, and PKI authentication in Elasticsearch" href="http://localhost:1313/elastic/a-step-by-step-guide-to-enabling-security-tls/ssl-and-pki-authentication-in-elasticsearch/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using Logstash to drive filtered data from a single source into multiple output destinations
    </h2>
  </header>
  <div class="entry-content">
    <p>This article is available at: https://www.elastic.co/blog/using-logstash-to-split-data-and-send-it-to-multiple-outputs
</p>
  </div>
  <footer class="entry-footer"><span title='2018-08-31 00:00:00 +0000 UTC'>August 31, 2018</span></footer>
  <a class="entry-link" aria-label="post link to Using Logstash to drive filtered data from a single source into multiple output destinations" href="http://localhost:1313/elastic/using-logstash-to-drive-filtered-data-from-a-single-source-into-multiple-output-destinations/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://localhost:1313/categories/elasticsearch/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Alexander Marquardt</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>

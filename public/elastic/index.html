<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="light">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Elastic Stack | Alexander Marquardt</title>
<meta name="keywords" content="">
<meta name="description" content="Architectural patterns, failure modes, and large-scale system behavior in Elasticsearch and related components.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/elastic/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/elastic/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/elastic/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    }

</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Alexander Marquardt (Alt + H)">Alexander Marquardt</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Elastic Stack
  </h1>
  <div class="post-description">
    Architectural patterns, failure modes, and large-scale system behavior in Elasticsearch and related components.
  </div>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Ranking by Profit and Popularity in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>Moved to Elastic’s blog - https://www.elastic.co/search-labs/blog/function-score-query-boosting-profit-popularity-elasticsearch
</p>
  </div>
  <footer class="entry-footer"><span title='2025-10-29 00:00:00 +0000 UTC'>October 29, 2025</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Ranking by Profit and Popularity in Elasticsearch" href="http://localhost:1313/elastic/ranking-by-profit-and-popularity-in-elasticsearch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Personalizing e-commerce search results based on purchase history in Elasticsearch (Without a need for Machine Learning Post Processing)
    </h2>
  </header>
  <div class="entry-content">
    <p>Whether you’re looking for a product in an online store, an article in a news archive, or a file in a company knowledge base, the quality of the search experience determines how quickly you find what you need. Behind the scenes, many of these systems are powered by Elasticsearch, a popular open-source search engine designed to handle large volumes of data and return relevant results in milliseconds.
At its core, Elasticsearch matches user queries against text fields and ranks results using relevance scoring. But search doesn’t have to stop there. That’s where personalization comes in. By incorporating signals such as past purchases, browsing behavior, or recent activity, search results can be adjusted so the items most relevant to you appear higher. For example, if two people both search for “chips”, one might see classic potato chips at the top, while the other sees crispy thin-cut chips, depending on their history.
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-09-12 00:00:00 +0000 UTC'>September 12, 2025</span>&nbsp;·&nbsp;<span>6 min</span></footer>
  <a class="entry-link" aria-label="post link to Personalizing e-commerce search results based on purchase history in Elasticsearch (Without a need for Machine Learning Post Processing)" href="http://localhost:1313/elastic/personalizing-search-in-elasticsearch-without-ml-post-processing/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Efficient bitwise matching of documents in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>This article has now been published on Elastic’s website. Please check it out at: https://www.elastic.co/search-labs/blog/efficient-bitwise-matching-in-elasticsearch
</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-15 00:00:00 +0000 UTC'>June 15, 2024</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Efficient bitwise matching of documents in Elasticsearch" href="http://localhost:1313/elastic/efficient-bitwise-matching-of-documents-in-elasticsearch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using Grok with Elasticsearch to add structure to your data
    </h2>
  </header>
  <div class="entry-content">
    <p>This article is available on Elastic’s blog as a 3-part series. Please check it out at the following URLs:
https://www.elastic.co/blog/structuring-elasticsearch-data-with-grok-on-ingest-for-faster-analytics
https://www.elastic.co/blog/slow-and-steady-how-to-build-custom-grok-patterns-incrementally
https://www.elastic.co/blog/debugging-broken-grok-expressions-in-elasticsearch-ingest-processors
</p>
  </div>
  <footer class="entry-footer"><span title='2020-07-13 00:00:00 +0000 UTC'>July 13, 2020</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Using Grok with Elasticsearch to add structure to your data" href="http://localhost:1313/elastic/using-grok-with-elasticsearch-to-add-structure-to-your-data/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using boolean queries to improve search relevancy in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>Page moved to https://alexmarquardt.com/using-boolean-queries-to-improve-search-relevancy-in-elasticsearch/
</p>
  </div>
  <footer class="entry-footer"><span title='2020-05-12 00:00:00 +0000 UTC'>May 12, 2020</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Using boolean queries to improve search relevancy in Elasticsearch" href="http://localhost:1313/elastic/a-simple-and-powerful-technique-to-improve-search-relevancy-in-elasticsearch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using boolean queries to improve search relevance in Elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>This article is available at: https://www.elastic.co/blog/how-to-improve-elasticsearch-search-relevance-with-boolean-queries
</p>
  </div>
  <footer class="entry-footer"><span title='2020-05-01 00:00:00 +0000 UTC'>May 1, 2020</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Using boolean queries to improve search relevance in Elasticsearch" href="http://localhost:1313/elastic/using-boolean-queries-to-improve-search-relevancy-in-elasticsearch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using slow logs in Elastic Cloud Enterprise
    </h2>
  </header>
  <div class="entry-content">
    <p>April 26, 2020
Authors Tom Schreiber Alex Marquardt Version This blog article is based on ECE 2.4.3.
Introduction Elastic Cloud Enterprise (ECE) is a platform designed to ease the management, deployment, and configuration of multiple Elasticsearch clusters through a single administrative user interface. ECE, is the same product that powers the Elasticsearch Service hosted offering, and is available for installation on customer-managed servers. ECE can be deployed anywhere - on public or private clouds, virtual machines, or even on bare metal hardware. Once installed, ECE allows Elasticsearch clusters to be created, upgraded, or deleted with the click of a button.
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-04-26 00:00:00 +0000 UTC'>April 26, 2020</span>&nbsp;·&nbsp;<span>11 min</span></footer>
  <a class="entry-link" aria-label="post link to Using slow logs in Elastic Cloud Enterprise" href="http://localhost:1313/elastic/using-slow-logs-in-elastic-cloud-enterprise/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using Elastic machine learning to detect anomalies in derivative values
    </h2>
  </header>
  <div class="entry-content">
    <p>April 21, 2020
Introduction In this blog, we use Elastic machine learning (ML) and derivative aggregations to detect sudden unexpected increases or decreases in the rate-of-change of CPU load on servers that are monitored by Metricbeat.
In order to make this blog easier to follow and the results easy to recreate, we abstract away the requirement for driving data from Metricbeat, and instead generate “fake” Metricbeat data using a Python script that drives data into Elasticsearch.
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-04-21 00:00:00 +0000 UTC'>April 21, 2020</span>&nbsp;·&nbsp;<span>6 min</span></footer>
  <a class="entry-link" aria-label="post link to Using Elastic machine learning to detect anomalies in derivative values" href="http://localhost:1313/elastic/using-elastic-machine-learning-to-detect-anomalies-in-derivative-values/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using the Elasticsearch Enrich Processor with CSV data
    </h2>
  </header>
  <div class="entry-content">
    <p>This article is available at: https://www.elastic.co/blog/how-to-enrich-logs-and-metrics-using-an-elasticsearch-ingest-node
</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-21 00:00:00 +0000 UTC'>March 21, 2020</span>&nbsp;·&nbsp;<span>1 min</span></footer>
  <a class="entry-link" aria-label="post link to Using the Elasticsearch Enrich Processor with CSV data" href="http://localhost:1313/elastic/enriching-elasticsearch-documents-with-data-from-csv-files/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Enriching data with the Logstash translate filter
    </h2>
  </header>
  <div class="entry-content">
    <p>March 6, 2020
Introduction Logstash is an open source, server-side data processing pipeline that ingests data from a multitude of sources, transforms it, and then sends it to one or more outputs. One use of Logstash is for enriching data before sending it to Elasticsearch.
Logstash supports several different lookup plugin filters that can be used for enriching data. Many of these rely on components that are external to the Logstash pipeline for storing enrichment data. On the other hand, the translate filter plugin can be used for looking up data and enriching documents without dependencies. Therefore, in this blog article I focus on using Logstash with the translate filter plugin for enriching data.
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-06 00:00:00 +0000 UTC'>March 6, 2020</span>&nbsp;·&nbsp;<span>7 min</span></footer>
  <a class="entry-link" aria-label="post link to Enriching data with the Logstash translate filter" href="http://localhost:1313/elastic/enriching-data-with-the-logstash-translate-filter/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://localhost:1313/elastic/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Alexander Marquardt</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
